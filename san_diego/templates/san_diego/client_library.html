{% extends 'san_diego/base.html' %}
{% load i18n %}
{% load static %}

{% block title %}{% trans 'Clients' %}{% endblock %}


{% block content %}
    <div class='container'>
        <div class='row justify-content-end'>
            <div class='col-4 mt-4 mb-3'>
                {% if is_paginated %}
                    {% include "san_diego/pagination.html" %}
                {% endif %}
            </div>
            <div class='col-4 mt-4 mb-4'>
                <form method='GET'>
                    <div class="input-group">
                        <input type="text" name='q' class="form-control" placeholder="Search" aria-label="Search" value='{{ request.GET.q }}'>
                    </div>
                </form>
            </div>
        </div>

        <div class='table-responsive'>
            <table class="table table-striped table-hover">
                <thead>
                  <tr>
                    <th scope="col">#</th>
                    <th scope="col">{% trans 'Name' %}</th>
                    <th scope="col">{% trans 'Phone' %}</th>
                    <th scope="col"><a href="{% url 'client_add' %}" role='button' class='text-success'><i class="fas fa-user-plus"></i> {% trans 'Add client' %}</a></th>
                  </tr>
                </thead>
                <tbody>
                    {% for client in clients %}
                        <tr>
                            <th scope="row"><a href="{{client.uuid}}">{{forloop.counter}}</a></th>
                            <td>{{ client.client_name }}</td>
                            {% if client.phone_number %}
                                <td>{{ client.phone_number }}</td>
                            {% else %}
                                <td>-</td>
                            {% endif %}
                            <td><a class="btn btn-primary" href="{{ client.uuid }}/edit" role="button">{% trans 'Edit' %}</a>
                            <a class="btn btn-danger" href="{{ client.uuid }}/delete" role='button'>{% trans 'Delete' %}</a></td>
                        </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>

        <div class='row justify-content-center'>
            <div class='col-4 mt-4 mb-3'>
                {% if is_paginated %}
                    {% include "san_diego/pagination.html" %}
                {% endif %}
            </div>
        </div>
    </div>
{% endblock %}